<meta charset="UTF-8">

<canvas width="800" height="500"></canvas>

<script>  
    
//FASE 1 - INICIO ==================================================================================================================
    //cada barrinha vai ser um array
    //vai guardar nessa ordem: posição x, posição y, largura, altura, cor, viva
    
    //1ª linha, em relação a tela, NÃO a proximidade do jogador
    var linha1Barrinha1 = [20,50,80,20,'black',true];
    var linha1Barrinha2 = [110,50,80,20,'black',true];
    var linha1Barrinha3 = [200,50,80,20,'black',true];
    var linha1Barrinha4 = [290,50,80,20,'black',true];
    var linha1Barrinha5 = [380,50,80,20,'black',true];
    var linha1Barrinha6 = [470,50,80,20,'black',true];
    var linha1Barrinha7 = [560,50,80,20,'black',true];
    var linha1Barrinha8 = [650,50,80,20,'black',true];
    //2ª linha
    var linha2Barrinha1 = [30,80,80,20,'red',true];
    var linha2Barrinha2 = [120,80,80,20,'red',true];
    var linha2Barrinha3 = [210,80,80,20,'red',true];
    var linha2Barrinha4 = [300,80,80,20,'red',true];
    var linha2Barrinha5 = [390,80,80,20,'red',true];
    var linha2Barrinha6 = [480,80,80,20,'red',true];
    var linha2Barrinha7 = [570,80,80,20,'red',true];
    var linha2Barrinha8 = [660,80,80,20,'red',true];
    //3ª linha
    var linha3Barrinha1 = [20,110,80,20,'yellow',true];
    var linha3Barrinha2 = [110,110,80,20,'yellow',true];
    var linha3Barrinha3 = [200,110,80,20,'yellow',true];
    var linha3Barrinha4 = [290,110,80,20,'yellow',true];
    var linha3Barrinha5 = [380,110,80,20,'yellow',true];
    var linha3Barrinha6 = [470,110,80,20,'yellow',true];
    var linha3Barrinha7 = [560,110,80,20,'yellow',true];
    var linha3Barrinha8 = [650,110,80,20,'yellow',true];
    //4ª linha
    var linha4Barrinha1 = [30,140,80,20,'green',true];
    var linha4Barrinha2 = [120,140,80,20,'green',true];
    var linha4Barrinha3 = [210,140,80,20,'green',true];
    var linha4Barrinha4 = [300,140,80,20,'green',true];
    var linha4Barrinha5 = [390,140,80,20,'green',true];
    var linha4Barrinha6 = [480,140,80,20,'green',true];
    var linha4Barrinha7 = [570,140,80,20,'green',true];
    var linha4Barrinha8 = [660,140,80,20,'green',true];
    //5ª linha
    var linha5Barrinha1 = [20,170,80,20,'blue',true];
    var linha5Barrinha2 = [110,170,80,20,'blue',true];
    var linha5Barrinha3 = [200,170,80,20,'blue',true];
    var linha5Barrinha4 = [290,170,80,20,'blue',true];
    var linha5Barrinha5 = [380,170,80,20,'blue',true];
    var linha5Barrinha6 = [470,170,80,20,'blue',true];
    var linha5Barrinha7 = [560,170,80,20,'blue',true];
    var linha5Barrinha8 = [650,170,80,20,'blue',true];
    
    function Fase1()
    {
        //1ª linha
        DesenharBarrinha(linha1Barrinha1); //barrinha 1
        DesenharBarrinha(linha1Barrinha2); //barrinha 2
        DesenharBarrinha(linha1Barrinha3); //barrinha 3
        DesenharBarrinha(linha1Barrinha4); //barrinha 4
        DesenharBarrinha(linha1Barrinha5); //barrinha 5
        DesenharBarrinha(linha1Barrinha6); //barrinha 6
        DesenharBarrinha(linha1Barrinha7); //barrinha 7
        DesenharBarrinha(linha1Barrinha8); //barrinha 8
        //2ª linha
        DesenharBarrinha(linha2Barrinha1); //barrinha 1
        DesenharBarrinha(linha2Barrinha2); //barrinha 2
        DesenharBarrinha(linha2Barrinha3); //barrinha 3
        DesenharBarrinha(linha2Barrinha4); //barrinha 4
        DesenharBarrinha(linha2Barrinha5); //barrinha 5
        DesenharBarrinha(linha2Barrinha6); //barrinha 6
        DesenharBarrinha(linha2Barrinha7); //barrinha 7
        DesenharBarrinha(linha2Barrinha8); //barrinha 8
        //3ª linha
        DesenharBarrinha(linha3Barrinha1); //barrinha 1
        DesenharBarrinha(linha3Barrinha2); //barrinha 2
        DesenharBarrinha(linha3Barrinha3); //barrinha 3
        DesenharBarrinha(linha3Barrinha4); //barrinha 4
        DesenharBarrinha(linha3Barrinha5); //barrinha 5
        DesenharBarrinha(linha3Barrinha6); //barrinha 6
        DesenharBarrinha(linha3Barrinha7); //barrinha 7
        DesenharBarrinha(linha3Barrinha8); //barrinha 8
        //4ª linha
        DesenharBarrinha(linha4Barrinha1); //barrinha 1
        DesenharBarrinha(linha4Barrinha2); //barrinha 2
        DesenharBarrinha(linha4Barrinha3); //barrinha 3
        DesenharBarrinha(linha4Barrinha4); //barrinha 4
        DesenharBarrinha(linha4Barrinha5); //barrinha 5
        DesenharBarrinha(linha4Barrinha6); //barrinha 6
        DesenharBarrinha(linha4Barrinha7); //barrinha 7
        DesenharBarrinha(linha4Barrinha8); //barrinha 8
        //5ª linha
        DesenharBarrinha(linha5Barrinha1); //barrinha 1
        DesenharBarrinha(linha5Barrinha2); //barrinha 2
        DesenharBarrinha(linha5Barrinha3); //barrinha 3
        DesenharBarrinha(linha5Barrinha4); //barrinha 4
        DesenharBarrinha(linha5Barrinha5); //barrinha 5
        DesenharBarrinha(linha5Barrinha6); //barrinha 6
        DesenharBarrinha(linha5Barrinha7); //barrinha 7
        DesenharBarrinha(linha5Barrinha8); //barrinha 8
    }
//FASE 1 - FIM =====================================================================================================================    
    
    
    
//funções de GUI - INICIO ==========================================================================================================
    function DesenharBarrinha(vetorBarrinha) 
    {
        if (vetorBarrinha[5]){
            pincel.fillStyle = vetorBarrinha[4];
            pincel.beginPath();
            pincel.fillRect(vetorBarrinha[0],vetorBarrinha[1],vetorBarrinha[2],vetorBarrinha[3]);
            pincel.fill();
        }
    }

    function DesenharBolinha(x, y, raio) 
    {
        pincel.fillStyle = 'black';
        pincel.beginPath();
        pincel.arc(x, y, raio, 0, 2 * Math.PI);
        pincel.fill();
    }
    
    function AlterarDificuldade()
    {
        if (pontos != 0 && pontos / 15 >= 1 && normal == false)
        {
            barrinhaJogador[2] = barrinhaJogador[2] - 15;
            normal = true;
        } else if (pontos != 0 && pontos / 40 >= 1 && dificil == false)
        {
            barrinhaJogador[2] = barrinhaJogador[2] - 30;
            dificil = true;
        }
    }
    
    function AtualizarTela() 
    {
        LimparTela();
        DesenharBarrinha(barrinhaJogador);
        DesenharBolinha(xBolinha,yBolinha,raioBolinha);
        EscreverTexto("Pontos: " + pontos, 720, 30);
        EscreverTexto(mensagem, 400, 30);
        iniciarJogo = "";
        Fase1();
        AlterarDificuldade();
        
    }
    
    function LimparTela() 
    {
        pincel.clearRect(0, 0, 800, 500);
        pincel.fillStyle = 'lightgrey';
        pincel.fillRect(0, 0, 800, 500);
    }
    
    function EscreverTexto(texto,x,y)
    {
        pincel.font = "20px Comic Sans MS";
        pincel.fillStyle = "black";
        pincel.textAlign = "center";
        pincel.fillText(texto, x, y); 
    }
//funções de GUI - FIM =============================================================================================================
    
    
    
    
    
//funções de cálculo - INICIO ======================================================================================================
    function LerDoTeclado(evento) 
    {
        //alert(evento.keyCode);
        if (evento.keyCode == esquerda && barrinhaJogador[0] >= taxa) {
            //logica para ir para a esquerda respeitando o limite do canvas
            barrinhaJogador[0] = barrinhaJogador[0] - taxa - 5;
            if (iniciarBolinha == false)
                xBolinha = xBolinha - taxa - 5;
            
        } else if (evento.keyCode == direita && barrinhaJogador[0] <= 800 - taxa - barrinhaJogador[2]) {
            //logica para ir para a direita respeitando o limite do canvas
            barrinhaJogador[0] = barrinhaJogador[0] + taxa + 5;
            if (iniciarBolinha == false)
                xBolinha = xBolinha + taxa + 5;
            
        } else if (evento.keyCode == espaco){
            //logica para aumentar o tamanho
            barrinhaJogador[2] = barrinhaJogador[2] + 50;
            
        } else if (evento.keyCode == ctrl){
            //logica para diminuir o tamanho
            if (barrinhaJogador[2] > 100)
                barrinhaJogador[2] = barrinhaJogador[2] - 5;
            
        } else if (evento.keyCode == start){
            //logica para iniciar movimento da bolinha
            iniciarBolinha = true;
            setInterval(MoverBolinha, 3);
        }
    }
    
    function PerdeuOuGanhou()
    {
        if (perdeu == false)
        {
            if (bolinhaDireita){
                xBolinha++;
            } else {
                xBolinha--;
            }

            if (bolinhaSobe){
                yBolinha--;
            } else {
                yBolinha++;
            }
            
            if (tipoDeJogo == 1 && pontos == 240)
            {
                alert("PARABÉNS!! =D \n\nYOU ARE A SUPER PLAYER!\n\nVocê conseguiu vencer o jogo em sua dificuldade máxima!\n\nQuanta paciência hein!?\n\nPRESSIONE A TECLA F5 PARA REINICIAR...");
            } else if (tipoDeJogo == 2 && pontos == 120)
            {
                alert("PARABÉNS!! =D \n\nVocê completou o jogo!\n\nVocê é muito bom!\n\nP.S.: Dúvido você conseguir no modo mais difícil!\n\nPRESSIONE A TECLA F5 PARA REINICIAR...");
            } 
        }
        else 
        {
            EscreverTexto("Você perdeu!\nPressione a tecla F5 para reiniciar...",400,250);
        }
    }
    
    function MoverBolinha()
    {   
        if (xBolinha >= 800){
            //se bater na parede da direita
            bolinhaDireita = false;
            xBolinha -= Math.round(Math.random()*2); 
        } else if (xBolinha <= 0){
            //se bater na parede da esquerda
            bolinhaDireita = true;
            xBolinha += Math.round(Math.random()*2);
        } else if (yBolinha <= 0){
            //se bater no teto
            bolinhaSobe = false;
            yBolinha += Math.round(Math.random()*2);
        } else if (yBolinha == barrinhaJogador[1] && (xBolinha >= barrinhaJogador[0]) && (xBolinha <= barrinhaJogador[0] + barrinhaJogador[2])){
            //se bater na barrinha do jogador
            bolinhaSobe = true;
            yBolinha -= Math.round(Math.random()*2);
        } else if (yBolinha > barrinhaJogador[1]){
            //se perder o jogo
            perdeu = true;
        } else {
            //se bater em qualquer barrinha de ponto
            Pontuou();
        }
            
        PerdeuOuGanhou();
        
    }
    
    function Pontuou()
    {
        //verificar em que linha a bolinha pode estar
        if ( yBolinha == 50 + 20  || yBolinha == 50 ){
            //se estiver na linha 1
            if (xBolinha >= linha1Barrinha1[0] && xBolinha <= linha1Barrinha1[0] + linha1Barrinha1[2] && linha1Barrinha1[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 5;
                    linha1Barrinha1[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 5;
                }
            } else if (xBolinha >= linha1Barrinha2[0] && xBolinha <= linha1Barrinha2[0] + linha1Barrinha2[2] && linha1Barrinha2[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 5;
                    linha1Barrinha2[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 5;
                }
            } else if (xBolinha >= linha1Barrinha3[0] && xBolinha <= linha1Barrinha3[0] + linha1Barrinha3[2] && linha1Barrinha3[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 5;
                    linha1Barrinha3[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 5;
                }
            } else if (xBolinha >= linha1Barrinha4[0] && xBolinha <= linha1Barrinha4[0] + linha1Barrinha4[2] && linha1Barrinha4[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 5;
                    linha1Barrinha4[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 5;
                }
            } else if (xBolinha >= linha1Barrinha5[0] && xBolinha <= linha1Barrinha5[0] + linha1Barrinha5[2] && linha1Barrinha5[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 5;
                    linha1Barrinha5[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 5;
                }
            } else if (xBolinha >= linha1Barrinha6[0] && xBolinha <= linha1Barrinha6[0] + linha1Barrinha6[2] && linha1Barrinha6[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 5;
                    linha1Barrinha6[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 5;
                }
            } else if (xBolinha >= linha1Barrinha7[0] && xBolinha <= linha1Barrinha7[0] + linha1Barrinha7[2] && linha1Barrinha7[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 5;
                    linha1Barrinha7[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 5;
                }
            } else if (xBolinha >= linha1Barrinha8[0] && xBolinha <= linha1Barrinha8[0] + linha1Barrinha8[2] && linha1Barrinha8[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 5;
                    linha1Barrinha8[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 5;
                }
            }
        } else if ( yBolinha == 80 + 20 || yBolinha == 80){
            //se estiver na linha 2
            if (xBolinha >= linha2Barrinha1[0] && xBolinha <= linha2Barrinha1[0] + linha2Barrinha1[2] && linha2Barrinha1[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 4;
                    linha2Barrinha1[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 4;
                }
            } else if (xBolinha >= linha2Barrinha2[0] && xBolinha <= linha2Barrinha2[0] + linha2Barrinha2[2] && linha2Barrinha2[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 4;
                    linha2Barrinha2[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 4;
                }
            } else if (xBolinha >= linha2Barrinha3[0] && xBolinha <= linha2Barrinha3[0] + linha2Barrinha3[2] && linha2Barrinha3[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 4;
                    linha2Barrinha3[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 4;
                }
            } else if (xBolinha >= linha2Barrinha4[0] && xBolinha <= linha2Barrinha4[0] + linha2Barrinha4[2] && linha2Barrinha4[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 4;
                    linha2Barrinha4[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 4;
                }
            } else if (xBolinha >= linha2Barrinha5[0] && xBolinha <= linha2Barrinha5[0] + linha2Barrinha5[2] && linha2Barrinha5[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 4;
                    linha2Barrinha5[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 4;
                }
            } else if (xBolinha >= linha2Barrinha6[0] && xBolinha <= linha2Barrinha6[0] + linha2Barrinha6[2] && linha2Barrinha6[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 4;
                    linha2Barrinha6[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 4;
                }
            } else if (xBolinha >= linha2Barrinha7[0] && xBolinha <= linha2Barrinha7[0] + linha2Barrinha7[2] && linha2Barrinha7[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 4;
                    linha2Barrinha7[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 4;
                }
            } else if (xBolinha >= linha2Barrinha8[0] && xBolinha <= linha2Barrinha8[0] + linha2Barrinha8[2] && linha2Barrinha8[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 4;
                    linha2Barrinha8[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 4;
                }
            }
        } else if ( yBolinha == 110 + 20 || yBolinha == 110){
            //se estiver na linha 3
            if (xBolinha >= linha3Barrinha1[0] && xBolinha <= linha3Barrinha1[0] + linha3Barrinha1[2] && linha3Barrinha1[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 3;
                    linha3Barrinha1[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 3;
                }
            } else if (xBolinha >= linha3Barrinha2[0] && xBolinha <= linha3Barrinha2[0] + linha3Barrinha2[2] && linha3Barrinha2[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 3;
                    linha3Barrinha2[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 3;
                }
            } else if (xBolinha >= linha3Barrinha3[0] && xBolinha <= linha3Barrinha3[0] + linha3Barrinha3[2] && linha3Barrinha3[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 3;
                    linha3Barrinha3[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 3;
                }
            } else if (xBolinha >= linha3Barrinha4[0] && xBolinha <= linha3Barrinha4[0] + linha3Barrinha4[2] && linha3Barrinha4[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 3;
                    linha3Barrinha4[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 3;
                }
            } else if (xBolinha >= linha3Barrinha5[0] && xBolinha <= linha3Barrinha5[0] + linha3Barrinha5[2] && linha3Barrinha5[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 3;
                    linha3Barrinha5[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 3;
                }
            } else if (xBolinha >= linha3Barrinha6[0] && xBolinha <= linha3Barrinha6[0] + linha3Barrinha6[2] && linha3Barrinha6[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 3;
                    linha3Barrinha6[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 3;
                }
            } else if (xBolinha >= linha3Barrinha7[0] && xBolinha <= linha3Barrinha7[0] + linha3Barrinha7[2] && linha3Barrinha7[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 3;
                    linha3Barrinha7[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 3;
                }
            } else if (xBolinha >= linha3Barrinha8[0] && xBolinha <= linha3Barrinha8[0] + linha3Barrinha8[2] && linha3Barrinha8[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 3;
                    linha3Barrinha8[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 3;
                }
            }
        } else if ( yBolinha == 140 + 20 || yBolinha == 140 ){
            //se estiver na linha 4
            if (xBolinha >= linha4Barrinha1[0] && xBolinha <= linha4Barrinha1[0] + linha4Barrinha1[2] && linha4Barrinha1[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 2;
                    linha4Barrinha1[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 2;
                }
            } else if (xBolinha >= linha4Barrinha2[0] && xBolinha <= linha4Barrinha2[0] + linha4Barrinha2[2] && linha4Barrinha2[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 2;
                    linha4Barrinha2[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 2;
                }
            } else if (xBolinha >= linha4Barrinha3[0] && xBolinha <= linha4Barrinha3[0] + linha4Barrinha3[2] && linha4Barrinha3[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 2;
                    linha4Barrinha3[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 2;
                }
            } else if (xBolinha >= linha4Barrinha4[0] && xBolinha <= linha4Barrinha4[0] + linha4Barrinha4[2] && linha4Barrinha4[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 2;
                    linha4Barrinha4[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 2;
                }
            } else if (xBolinha >= linha4Barrinha5[0] && xBolinha <= linha4Barrinha5[0] + linha4Barrinha5[2] && linha4Barrinha5[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 2;
                    linha4Barrinha5[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 2;
                }
            } else if (xBolinha >= linha4Barrinha6[0] && xBolinha <= linha4Barrinha6[0] + linha4Barrinha6[2] && linha4Barrinha6[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 2;
                    linha4Barrinha6[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 2;
                }
            } else if (xBolinha >= linha4Barrinha7[0] && xBolinha <= linha4Barrinha7[0] + linha4Barrinha7[2] && linha4Barrinha7[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 2;
                    linha4Barrinha7[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 2;
                }
            } else if (xBolinha >= linha4Barrinha8[0] && xBolinha <= linha4Barrinha8[0] + linha4Barrinha8[2] && linha4Barrinha8[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos += 2;
                    linha4Barrinha8[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos += 2;
                }
            }
        } else if ( yBolinha == 170 + 20 || yBolinha == 170 ){
            //se estiver na linha 5
            //verificar se colide com alguma barrinha de pontos, caso ela exista
            if (xBolinha >= linha5Barrinha1[0] && xBolinha <= linha5Barrinha1[0] + linha5Barrinha1[2] && linha5Barrinha1[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos++;
                    linha5Barrinha1[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos++;
                }
            } else if (xBolinha >= linha5Barrinha2[0] && xBolinha <= linha5Barrinha2[0] + linha5Barrinha2[2] && linha5Barrinha2[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos++;
                    linha5Barrinha2[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos++;
                }
            } else if (xBolinha >= linha5Barrinha3[0] && xBolinha <= linha5Barrinha3[0] + linha5Barrinha3[2] && linha5Barrinha3[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos++;
                    linha5Barrinha3[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos++;
                }
            } else if (xBolinha >= linha5Barrinha4[0] && xBolinha <= linha5Barrinha4[0] + linha5Barrinha4[2] && linha5Barrinha4[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos++;
                    linha5Barrinha4[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos++;
                }
            } else if (xBolinha >= linha5Barrinha5[0] && xBolinha <= linha5Barrinha5[0] + linha5Barrinha5[2] && linha5Barrinha5[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos++;
                    linha5Barrinha5[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos++;
                }
            } else if (xBolinha >= linha5Barrinha6[0] && xBolinha <= linha5Barrinha6[0] + linha5Barrinha6[2] && linha5Barrinha6[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos++;
                    linha5Barrinha6[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos++;
                }
            } else if (xBolinha >= linha5Barrinha7[0] && xBolinha <= linha5Barrinha7[0] + linha5Barrinha7[2] && linha5Barrinha7[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos++;
                    linha5Barrinha7[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos++;
                }
            } else if (xBolinha >= linha5Barrinha8[0] && xBolinha <= linha5Barrinha8[0] + linha5Barrinha8[2] && linha5Barrinha8[5] == true){
                //colidiu com uma barrinha de pontos
                if ( (tipoDeJogo == 1 && bolinhaSobe == true) || tipoDeJogo == 2){
                    pontos++;
                    linha5Barrinha8[5] = false;
                    NovaDirecaoBolinhaQuandoPontuar();
                    if (tipoDeJogo == 1)
                        pontos++;
                }
            }
        }   
    }
    
    function NovaDirecaoBolinhaQuandoPontuar()
    {
        if ( bolinhaSobe){
            //se colide na barra de pontos por baixo   
            bolinhaSobe = false;
        } else {
            //se colide na barra de pontos por cima
            bolinhaSobe = true;
        }
        
        
    }
//funções de cálculo - FIM =========================================================================================================
    
    
    
    
    
    
//MAIN - INICIO ====================================================================================================================
    
    alert("Bem vindo ao ARKANOID\n\nO jogo foi feito 100% com javascript no intuito de praticar o meu conhecimento na linguagem.\n\nREGRAS DO JOGO:\n- Mova a barrinha azul da parte de baixo da tela para esquerda e direita utilizando as setas do teclado;\n- Rebata a bolinha para quebrar os blocos coloridos no alto da tela e marcar pontos;\n- Quantos MAIS pontos você marcar, MENOR a barrinha ficará;\n- Caso você deixe a bolinha passar por você, será GAME OVER!\n\nPONTUAÇÃO:\n\nBARRINHA AZUL: 1 PONTO\nBARRINHA VERDE: 2 PONTOS\nBARRINHA AMARELA: 3 PONTOS\nBARRINHA VERMELHA: 4 PONTOS\nBARRINHA PRETA: 5 PONTOS\n\nAssim que a tela do jogo for carregada, escolha sua posição inicial e aperte a tecla ENTER para começar.");
    
    var tipoDeJogo = 0;
    while (tipoDeJogo != 1 && tipoDeJogo != 2)
        var tipoDeJogo = prompt("Escolha o tipo de Jogo!\n\nDigite:\n\n 1 - Colisão apenas por baixo (2X PONTOS E MAIS DIFÍCIL)\n 2 - Colisão por cima e por baixo (PONTUAÇÃO PADRÃO E MAIS FÁCIL).\n");
    
    var mensagem = "";
    if (tipoDeJogo == 1)
        mensagem = "Colisão apenas por baixo";
    else if (tipoDeJogo == 2)
        mensagem = "Colisão por cima e por baixo";
    
    var tela = document.querySelector('canvas');    //pegar o canvas
    var pincel = tela.getContext('2d');             //pegar o contexto 2d do canvas
    LimparTela();                                    //inicializando a tela
    
    var taxa = 10;          // valor da taxa de incremento de tamanho da barrinha
    
    var xBarrinha = 20;             //posição inicial da barrinha no eixo x
    var yBarrinha = 500-taxa*2;     //posição inicial da barrinha no eixo y
    var larguraBarrinha = 120;      //largura da barrinha do jogador
    var alturaBarrinha = 20;        //altura da barrinha do jogador
    var barrinhaJogador = [20,500-taxa*2,120,20,'blue',true];
    
    var xBolinha = (larguraBarrinha/2)+20;      //posição inicial da bolinha no eixo x
    var yBolinha = 500-(taxa)-alturaBarrinha;   //posição inicial da bolinha no eixo y
    var raioBolinha = 3 * Math.PI;              //raio da bolinha
    
    var larguraBarrinhaPontos = 80;
    
    var iniciarBolinha = false;
    var bolinhaSobe = true;
    var bolinhaDireita = true;
    
    var perdeu = false;
    var pontos = 0;         //marcador de pontos
    var normal = false;      //nivel de dificuldade normal está desativado
    var dificil = false;     //nivel de dificuldade dificil está desativado
    
    var esquerda = 37;      // código para seta da esquerda do teclado
    var direita = 39;       // código para seta da direita do teclado
    var espaco = 32;        // código para aumentar o tamanho da barrinha
    var ctrl = 17;          // código para diminuir o tamanho da barrinha
    var start = 13;         // código para iniciar o jogo
    
    setInterval(AtualizarTela, 10);      //começando o jogo
    document.onkeydown = LerDoTeclado;   //ler do teclado   
//MAIN - FIM =======================================================================================================================
    
/* correções de bugs
*/
    
</script>